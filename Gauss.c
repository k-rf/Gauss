#include <stdio.h>
#include "Gauss.h"

// ==================================================================
// ƒ†-ƒNƒŠƒbƒh
// ==================================================================
int Euclid(int a, int b)
{
	int tmp;
	int r;

	if(a < 0)
		a *= -1;
	if(b < 0)
		b *= -1;

	if(a < b)
	{
		tmp = a;
		a = b;
		b = tmp;
	}

	if(b == 0)
		return a;

	r = a % b;

	if(r == 0)
		return b;
	else
		return Euclid(b, r);
}

// ==================================================================
// •ª•ê‚ª•‰‚Ì”‚È‚ç•ª•ê•ªq‚É-1‚ğ‚©‚¯‚é
// ==================================================================
void Den(int a[])
{
	if(a[1] < 0)
	{
		a[0] *= -1;
		a[1] *= -1;
	}
}

// ==================================================================
// â‘Î’l
// ==================================================================
void Abs(int a[], int b[])
{
	b[0] = ((a[0] < 0) ? a[0] * -1 : a[0]);
	b[1] = ((a[1] < 0) ? a[1] * -1 : a[1]);
}


// ==================================================================
// •ª”‚Ì‰ÁZ
// ==================================================================
void Add(int a[], int b[], int c[])
{
	int hcf;  // Å‘åŒö–ñ”
	int lcm;  // Å‘åŒö”{”

	hcf = Euclid(a[1], b[1]);
	lcm = a[1] * b[1] / hcf;

	c[0] = ((a[0] * b[1]) + (b[0] * a[1])) / hcf;
	c[1] = lcm;
	Red(c, c);
}

// ==================================================================
// •ª”‚ÌŒ¸Z
// ==================================================================
void Sub(int a[], int b[], int c[])
{
	int hcf;  // Å‘åŒö–ñ”
	int lcm;  // Å‘åŒö”{”

	hcf = Euclid(a[1], b[1]);
	lcm = a[1] * b[1] / hcf;

	c[0] = ((a[0] * b[1]) - (b[0] * a[1])) / hcf;
	c[1] = lcm;
	Red(c, c);
}

// ==================================================================
// •ª”‚ÌæZ
// ==================================================================
void Mul(int a[], int b[], int c[])
{
	c[0] = a[0] * b[0];
	c[1] = a[1] * b[1];

	Red(c, c);
}

// ==================================================================
// •ª”‚ÌœZ
// ==================================================================
void Div(int a[], int b[], int c[])
{
	if(b[0] != 0)
	{
		c[0] = a[0] * b[1];
		c[1] = a[1] * b[0];
	}

	Den(c);
	Red(c, c);
}

// ==================================================================
// •ª”‚Ì–ñ•ª
// ==================================================================
void Red(int a[], int b[])
{
	int hcf;  // Å‘åŒö–ñ”

	hcf = Euclid(a[0], a[1]);


	b[0] = a[0] / hcf;
	b[1] = a[1] / hcf;
}

// ==================================================================
// •ª”‚Ì”äŠria > bj
// ==================================================================
int greater(int a[], int b[])
{
	int res[2] = { 0, 1 };

	Sub(a, b, res);
	return ((res[0] > 0) ? 1 : 0);
}

// ==================================================================
// •ª”‚Ì”äŠria == bj
// ==================================================================
int equal(int a[], int b[])
{
	int res[2] = { 0, 1 };

	Sub(a, b, res);
	return ((res[0] == 0) ? 1 : 0);
}

// ==================================================================
// •ª”‚Ì‘ã“üia = bj
// ==================================================================
void set(int a[], int b[])
{
	a[0] = b[0];
	a[1] = b[1];
}